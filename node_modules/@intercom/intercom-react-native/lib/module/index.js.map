{"version":3,"sources":["index.tsx"],"names":["NativeModules","NativeEventEmitter","Platform","IntercomModule","IntercomEventEmitter","Visibility","LogLevel","IntercomEvents","IntercomUnreadCountDidChange","UNREAD_COUNT_CHANGE_NOTIFICATION","IntercomWindowDidHide","WINDOW_DID_HIDE_NOTIFICATION","IntercomWindowDidShow","WINDOW_DID_SHOW_NOTIFICATION","IntercomHelpCenterWindowDidShow","HELP_CENTER_WINDOW_DID_SHOW_NOTIFICATION","IntercomHelpCenterWindowDidHide","HELP_CENTER_WINDOW_DID_HIDE_NOTIFICATION","Intercom","searchHelpCenter","term","fetchHelpCenterCollections","fetchHelpCenterCollection","id","displayArticle","articleId","displayCarousel","carouselId","displayHelpCenter","displayHelpCenterCollections","collections","displayMessageComposer","initialMessage","undefined","displayMessenger","getUnreadConversationCount","handlePushMessage","select","android","default","hideIntercom","logEvent","eventName","metaData","logout","registerIdentifiedUser","registerUnidentifiedUser","setBottomPadding","paddingBottom","setInAppMessageVisibility","visibility","setLauncherVisibility","setLogLevel","logLevel","setUserHash","hash","updateUser","params","sendTokenToIntercom","token","addEventListener","event","callback","OS","startEventListener","eventEmitter","listener","addListener","remove","removeEventListener"],"mappings":"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","sourcesContent":["import {\n  NativeModules,\n  NativeEventEmitter,\n  Platform,\n  EmitterSubscription,\n} from 'react-native';\n\nconst { IntercomModule, IntercomEventEmitter } = NativeModules;\n\nexport type Registration = Partial<{\n  email: string;\n  userId: string;\n}>;\n\nexport enum Visibility {\n  GONE = 'GONE',\n  VISIBLE = 'VISIBLE',\n}\n\ntype VisibilityType = keyof typeof Visibility;\n\nexport enum LogLevel {\n  ASSERT = 'ASSERT',\n  DEBUG = 'DEBUG',\n  DISABLED = 'DISABLED',\n  ERROR = 'ERROR',\n  INFO = 'INFO',\n  VERBOSE = 'VERBOSE',\n  WARN = 'WARN',\n}\n\ntype LogLevelType = keyof typeof LogLevel;\n\nexport const IntercomEvents = {\n  IntercomUnreadCountDidChange:\n    IntercomEventEmitter.UNREAD_COUNT_CHANGE_NOTIFICATION,\n  IntercomWindowDidHide: IntercomEventEmitter.WINDOW_DID_HIDE_NOTIFICATION,\n  IntercomWindowDidShow: IntercomEventEmitter.WINDOW_DID_SHOW_NOTIFICATION,\n  IntercomHelpCenterWindowDidShow:\n    IntercomEventEmitter.HELP_CENTER_WINDOW_DID_SHOW_NOTIFICATION,\n  IntercomHelpCenterWindowDidHide:\n    IntercomEventEmitter.HELP_CENTER_WINDOW_DID_HIDE_NOTIFICATION,\n};\n\ntype EventType =\n  | 'IntercomUnreadConversationCountDidChangeNotification'\n  | 'IntercomHelpCenterDidShowNotification'\n  | 'IntercomHelpCenterDidHideNotification'\n  | 'IntercomWindowDidHideNotification'\n  | 'IntercomWindowDidShowNotification';\n\nexport type CustomAttributes = {\n  [key: string]: boolean | string | number;\n};\nexport type MetaData = {\n  [key: string]: any;\n};\n\nexport type UpdateUserParamList = {\n  companies?: Company[];\n  customAttributes?: CustomAttributes;\n  email?: string;\n  languageOverride?: string;\n  name?: string;\n  phone?: string;\n  signedUpAt?: number;\n  unsubscribedFromEmails?: boolean;\n  userId?: string;\n};\n\nexport type Company = {\n  createdAt?: number;\n  customAttributes?: CustomAttributes;\n  id: string;\n  monthlySpend?: number;\n  name?: string;\n  plan?: string;\n};\n\nexport type HelpCenterArticle = { it: string; title: string };\nexport type HelpCenterSection = { title: string; articles: HelpCenterArticle };\nexport type HelpCenterCollectionItem = {\n  id: string;\n  title: string;\n  summary: string;\n};\nexport type HelpCenterCollectionContent = {\n  id: string;\n  title: string;\n  summary: string;\n  articles: HelpCenterArticle[];\n  sections: HelpCenterSection[];\n};\nexport type HelpCenterArticleSearchResult = {\n  id: string;\n  title: string;\n  matchingSnippet: string;\n  summary: string;\n};\n\nexport type IntercomType = {\n  fetchHelpCenterCollections: () => Promise<HelpCenterCollectionItem>;\n  searchHelpCenter: (term: string) => Promise<HelpCenterArticleSearchResult>;\n  fetchHelpCenterCollection: (\n    id: string\n  ) => Promise<HelpCenterCollectionContent>;\n  displayArticle(articleId: string): Promise<boolean>;\n  displayCarousel(carouselId: string): Promise<boolean>;\n  displayHelpCenter(): Promise<boolean>;\n  displayHelpCenterCollections(collections?: string[]): Promise<boolean>;\n  displayMessageComposer(initialMessage?: string): Promise<boolean>;\n  displayMessenger(): Promise<boolean>;\n  getUnreadConversationCount(): Promise<number>;\n  hideIntercom(): Promise<boolean>;\n  logEvent(eventName: string, metaData?: MetaData): Promise<boolean>;\n  logout(): Promise<boolean>;\n  registerIdentifiedUser(params: Registration): Promise<boolean>;\n  registerUnidentifiedUser(): Promise<boolean>;\n  setBottomPadding(bottomPadding: number): Promise<boolean>;\n  setInAppMessageVisibility(visibility: VisibilityType): Promise<boolean>;\n  setLauncherVisibility(visibility: VisibilityType): Promise<boolean>;\n  setLogLevel(logLevel: LogLevelType): Promise<boolean>;\n  setUserHash(hash: string): Promise<boolean>;\n  updateUser(params: UpdateUserParamList): Promise<boolean>;\n  handlePushMessage(): Promise<boolean>;\n  sendTokenToIntercom(token: string): Promise<boolean>;\n  addEventListener: (\n    event: EventType,\n    callback: (response: { count?: number; visible: boolean }) => void\n  ) => EmitterSubscription;\n};\n\nconst Intercom = {\n  searchHelpCenter: (term = '') => IntercomModule.searchHelpCenter(term),\n  fetchHelpCenterCollections: () => IntercomModule.fetchHelpCenterCollections(),\n  fetchHelpCenterCollection: (id = '') =>\n    IntercomModule.fetchHelpCenterCollection(id),\n  displayArticle: (articleId: string) =>\n    IntercomModule.displayArticle(articleId),\n  displayCarousel: (carouselId: string) =>\n    IntercomModule.displayCarousel(carouselId),\n  displayHelpCenter: () => IntercomModule.displayHelpCenter(),\n  displayHelpCenterCollections: (collections = [] as string[]) =>\n    IntercomModule.displayHelpCenterCollections(collections),\n  displayMessageComposer: (initialMessage = undefined) =>\n    IntercomModule.displayMessageComposer(initialMessage),\n  displayMessenger: () => IntercomModule.displayMessenger(),\n  getUnreadConversationCount: () => IntercomModule.getUnreadConversationCount(),\n  handlePushMessage: Platform.select({\n    android: IntercomModule.handlePushMessage,\n    default: async () => true,\n  }),\n  hideIntercom: () => IntercomModule.hideIntercom(),\n  logEvent: (eventName, metaData = undefined) =>\n    IntercomModule.logEvent(eventName, metaData),\n  logout: () => IntercomModule.logout(),\n  registerIdentifiedUser: (eventName) =>\n    IntercomModule.registerIdentifiedUser(eventName),\n  registerUnidentifiedUser: () => IntercomModule.registerUnidentifiedUser(),\n  setBottomPadding: (paddingBottom) =>\n    IntercomModule.setBottomPadding(paddingBottom),\n  setInAppMessageVisibility: (visibility) =>\n    IntercomModule.setInAppMessageVisibility(visibility),\n  setLauncherVisibility: (visibility) =>\n    IntercomModule.setLauncherVisibility(visibility),\n  setLogLevel: (logLevel) => IntercomModule.setLogLevel(logLevel),\n  setUserHash: (hash) => IntercomModule.setUserHash(hash),\n  updateUser: (params) => IntercomModule.updateUser(params),\n  sendTokenToIntercom: (token) => IntercomModule.sendTokenToIntercom(token),\n  addEventListener: (event, callback) => {\n    event === IntercomEvents.IntercomUnreadCountDidChange &&\n      Platform.OS === 'android' &&\n      IntercomEventEmitter.startEventListener();\n    const eventEmitter = new NativeEventEmitter(IntercomEventEmitter);\n    const listener = eventEmitter.addListener(event, callback);\n    return {\n      ...listener,\n      remove: () => {\n        event === IntercomEvents.IntercomUnreadCountDidChange &&\n          Platform.OS === 'android' &&\n          IntercomEventEmitter.removeEventListener();\n        listener.remove();\n      },\n    };\n  },\n} as IntercomType;\n\nexport default Intercom;\n"]}