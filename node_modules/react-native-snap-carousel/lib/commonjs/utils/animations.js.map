{"version":3,"sources":["animations.ts"],"names":["IS_ANDROID","Platform","OS","getInputRangeFromIndexes","range","index","carouselProps","sizeRef","vertical","itemHeight","itemWidth","inputRange","i","length","push","defaultScrollInterpolator","outputRange","defaultAnimatedStyles","_index","animatedValue","animatedOpacity","animatedScale","inactiveSlideOpacity","opacity","interpolate","inactiveSlideScale","transform","scale","shiftAnimatedStyles","animatedTranslate","inactiveSlideShift","translateProp","stackScrollInterpolator","stackAnimatedStyles","cardOffset","card1Scale","card2Scale","newCardOffset","getTranslateFromScale","cardIndex","centerFactor","centeredPosition","Math","round","edgeAlignment","offset","abs","opacityOutputRange","reverse","extrapolate","zIndex","data","tinderScrollInterpolator","tinderAnimatedStyles","mainTranslateProp","secondaryTranslateProp","card3Scale","peekingCardsOpacity","getMainTranslateFromScale","getSecondaryTranslateFromScale","rotate"],"mappings":"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","sourcesContent":["import { Platform, Animated } from 'react-native';\nimport type { CarouselProps } from 'src/carousel/types';\n\nconst IS_ANDROID = Platform.OS === 'android';\n\n// Get scroll interpolator's input range from an array of slide indexes\n// Indexes are relative to the current active slide (index 0)\n// For example, using [3, 2, 1, 0, -1] will return:\n// [\n//     (index - 3) * sizeRef, // active + 3\n//     (index - 2) * sizeRef, // active + 2\n//     (index - 1) * sizeRef, // active + 1\n//     index * sizeRef, // active\n//     (index + 1) * sizeRef // active - 1\n// ]\nexport function getInputRangeFromIndexes<TData> (\n    range: number[],\n    index: number,\n    carouselProps: CarouselProps<TData>\n) {\n    const sizeRef = carouselProps.vertical ?\n        carouselProps.itemHeight :\n        carouselProps.itemWidth;\n    const inputRange = [];\n\n    for (let i = 0; i < range.length; i++) {\n        inputRange.push((index - range[i]) * sizeRef);\n    }\n\n    return inputRange;\n}\n\n// Default behavior\n// Scale and/or opacity effect\n// Based on props 'inactiveSlideOpacity' and 'inactiveSlideScale'\nexport function defaultScrollInterpolator<TData> (\n    index: number,\n    carouselProps: CarouselProps<TData>\n) {\n    const range = [1, 0, -1];\n    const inputRange = getInputRangeFromIndexes(range, index, carouselProps);\n    const outputRange = [0, 1, 0];\n\n    return { inputRange, outputRange };\n}\nexport function defaultAnimatedStyles<TData> (\n    _index: number,\n    animatedValue: Animated.AnimatedInterpolation,\n    carouselProps: CarouselProps<TData>\n) {\n    let animatedOpacity = {};\n    let animatedScale = {};\n\n    if (carouselProps.inactiveSlideOpacity < 1) {\n        animatedOpacity = {\n            opacity: animatedValue.interpolate({\n                inputRange: [0, 1],\n                outputRange: [carouselProps.inactiveSlideOpacity, 1]\n            })\n        };\n    }\n\n    if (carouselProps.inactiveSlideScale < 1) {\n        animatedScale = {\n            transform: [\n                {\n                    scale: animatedValue.interpolate({\n                        inputRange: [0, 1],\n                        outputRange: [carouselProps.inactiveSlideScale, 1]\n                    })\n                }\n            ]\n        };\n    }\n\n    return {\n        ...animatedOpacity,\n        ...animatedScale\n    };\n}\n\n// Shift animation\n// Same as the default one, but the active slide is also shifted up or down\n// Based on prop 'inactiveSlideShift'\nexport function shiftAnimatedStyles<TData> (\n    _index: number,\n    animatedValue: Animated.AnimatedInterpolation,\n    carouselProps: CarouselProps<TData>\n) {\n    let animatedOpacity = {};\n    let animatedScale = {};\n    let animatedTranslate = {};\n\n    if (carouselProps.inactiveSlideOpacity < 1) {\n        animatedOpacity = {\n            opacity: animatedValue.interpolate({\n                inputRange: [0, 1],\n                outputRange: [carouselProps.inactiveSlideOpacity, 1]\n            })\n        };\n    }\n\n    if (carouselProps.inactiveSlideScale < 1) {\n        animatedScale = {\n            scale: animatedValue.interpolate({\n                inputRange: [0, 1],\n                outputRange: [carouselProps.inactiveSlideScale, 1]\n            })\n        };\n    }\n\n    if (carouselProps.inactiveSlideShift !== 0) {\n        const translateProp = carouselProps.vertical ? 'translateX' : 'translateY';\n        animatedTranslate = {\n            [translateProp]: animatedValue.interpolate({\n                inputRange: [0, 1],\n                outputRange: [carouselProps.inactiveSlideShift, 0]\n            })\n        };\n    }\n\n    return {\n        ...animatedOpacity,\n        transform: [{ ...animatedScale }, { ...animatedTranslate }]\n    };\n}\n\n// Stack animation\n// Imitate a deck/stack of cards (see #195)\n// WARNING: The effect had to be visually inverted on Android because this OS doesn't honor the `zIndex`property\n// This means that the item with the higher zIndex (and therefore the tap receiver) remains the one AFTER the currently active item\n// The `elevation` property compensates for that only visually, which is not good enough\nexport function stackScrollInterpolator<TData> (\n    index: number,\n    carouselProps: CarouselProps<TData>\n) {\n    const range = IS_ANDROID ? [1, 0, -1, -2, -3] : [3, 2, 1, 0, -1];\n    const inputRange = getInputRangeFromIndexes(range, index, carouselProps);\n    const outputRange = range;\n\n    return { inputRange, outputRange };\n}\nexport function stackAnimatedStyles<TData> (\n    index: number,\n    animatedValue: Animated.AnimatedInterpolation,\n    carouselProps: CarouselProps<TData>,\n    cardOffset?: number\n) {\n    const sizeRef = carouselProps.vertical ?\n        carouselProps.itemHeight :\n        carouselProps.itemWidth;\n    const translateProp = carouselProps.vertical ? 'translateY' : 'translateX';\n\n    const card1Scale = 0.9;\n    const card2Scale = 0.8;\n\n    const newCardOffset = cardOffset ?? 18;\n\n    const getTranslateFromScale = (cardIndex: number, scale: number) => {\n        const centerFactor = (1 / scale) * cardIndex;\n        const centeredPosition = -Math.round(sizeRef * centerFactor);\n        const edgeAlignment = Math.round((sizeRef - sizeRef * scale) / 2);\n        const offset = Math.round((newCardOffset * Math.abs(cardIndex)) / scale);\n\n        return IS_ANDROID ?\n            centeredPosition - edgeAlignment - offset :\n            centeredPosition + edgeAlignment + offset;\n    };\n\n    const opacityOutputRange =\n    carouselProps.inactiveSlideOpacity === 1 ? [1, 1, 1, 0] : [1, 0.75, 0.5, 0];\n\n    return IS_ANDROID ?\n        {\n        // elevation: carouselProps.data.length - index, // fix zIndex bug visually, but not from a logic point of view\n            opacity: animatedValue.interpolate({\n                inputRange: [-3, -2, -1, 0],\n                outputRange: opacityOutputRange.reverse(),\n                extrapolate: 'clamp'\n            }),\n            transform: [\n                {\n                    scale: animatedValue.interpolate({\n                        inputRange: [-2, -1, 0, 1],\n                        outputRange: [card2Scale, card1Scale, 1, card1Scale],\n                        extrapolate: 'clamp'\n                    })\n                },\n                {\n                    [translateProp]: animatedValue.interpolate({\n                        inputRange: [-3, -2, -1, 0, 1],\n                        outputRange: [\n                            getTranslateFromScale(-3, card2Scale),\n                            getTranslateFromScale(-2, card2Scale),\n                            getTranslateFromScale(-1, card1Scale),\n                            0,\n                            sizeRef * 0.5\n                        ],\n                        extrapolate: 'clamp'\n                    })\n                }\n            ]\n        } :\n        {\n            zIndex: carouselProps.data.length - index,\n            opacity: animatedValue.interpolate({\n                inputRange: [0, 1, 2, 3],\n                outputRange: opacityOutputRange,\n                extrapolate: 'clamp'\n            }),\n            transform: [\n                {\n                    scale: animatedValue.interpolate({\n                        inputRange: [-1, 0, 1, 2],\n                        outputRange: [card1Scale, 1, card1Scale, card2Scale],\n                        extrapolate: 'clamp'\n                    })\n                },\n                {\n                    [translateProp]: animatedValue.interpolate({\n                        inputRange: [-1, 0, 1, 2, 3],\n                        outputRange: [\n                            -sizeRef * 0.5,\n                            0,\n                            getTranslateFromScale(1, card1Scale),\n                            getTranslateFromScale(2, card2Scale),\n                            getTranslateFromScale(3, card2Scale)\n                        ],\n                        extrapolate: 'clamp'\n                    })\n                }\n            ]\n        };\n}\n\n// Tinder animation\n// Imitate the popular Tinder layout\n// WARNING: The effect had to be visually inverted on Android because this OS doesn't honor the `zIndex`property\n// This means that the item with the higher zIndex (and therefore the tap receiver) remains the one AFTER the currently active item\n// The `elevation` property compensates for that only visually, which is not good enough\nexport function tinderScrollInterpolator<TData> (\n    index: number,\n    carouselProps: CarouselProps<TData>\n) {\n    const range = IS_ANDROID ? [1, 0, -1, -2, -3] : [3, 2, 1, 0, -1];\n    const inputRange = getInputRangeFromIndexes(range, index, carouselProps);\n    const outputRange = range;\n\n    return { inputRange, outputRange };\n}\nexport function tinderAnimatedStyles<TData> (\n    index: number,\n    animatedValue: Animated.AnimatedInterpolation,\n    carouselProps: CarouselProps<TData>,\n    cardOffset?: number\n) {\n    const sizeRef = carouselProps.vertical ?\n        carouselProps.itemHeight :\n        carouselProps.itemWidth;\n    const mainTranslateProp = carouselProps.vertical ?\n        'translateY' :\n        'translateX';\n    const secondaryTranslateProp = carouselProps.vertical ?\n        'translateX' :\n        'translateY';\n\n    const card1Scale = 0.96;\n    const card2Scale = 0.92;\n    const card3Scale = 0.88;\n\n    const peekingCardsOpacity = IS_ANDROID ? 0.92 : 1;\n\n    const newCardOffset = cardOffset ?? 9;\n\n    const getMainTranslateFromScale = (cardIndex: number, scale: number) => {\n        const centerFactor = (1 / scale) * cardIndex;\n        return -Math.round(sizeRef * centerFactor);\n    };\n\n    const getSecondaryTranslateFromScale = (cardIndex: number, scale: number) => {\n        return Math.round((newCardOffset * Math.abs(cardIndex)) / scale);\n    };\n\n    return IS_ANDROID ?\n        {\n        // elevation: carouselProps.data.length - index, // fix zIndex bug visually, but not from a logic point of view\n            opacity: animatedValue.interpolate({\n                inputRange: [-3, -2, -1, 0, 1],\n                outputRange: [0, peekingCardsOpacity, peekingCardsOpacity, 1, 0],\n                extrapolate: 'clamp'\n            }),\n            transform: [\n                {\n                    scale: animatedValue.interpolate({\n                        inputRange: [-3, -2, -1, 0],\n                        outputRange: [card3Scale, card2Scale, card1Scale, 1],\n                        extrapolate: 'clamp'\n                    })\n                },\n                {\n                    rotate: animatedValue.interpolate({\n                        inputRange: [0, 1],\n                        outputRange: ['0deg', '22deg'],\n                        extrapolate: 'clamp'\n                    })\n                },\n                {\n                    [mainTranslateProp]: animatedValue.interpolate({\n                        inputRange: [-3, -2, -1, 0, 1],\n                        outputRange: [\n                            getMainTranslateFromScale(-3, card3Scale),\n                            getMainTranslateFromScale(-2, card2Scale),\n                            getMainTranslateFromScale(-1, card1Scale),\n                            0,\n                            sizeRef * 1.1\n                        ],\n                        extrapolate: 'clamp'\n                    })\n                },\n                {\n                    [secondaryTranslateProp]: animatedValue.interpolate({\n                        inputRange: [-3, -2, -1, 0],\n                        outputRange: [\n                            getSecondaryTranslateFromScale(-3, card3Scale),\n                            getSecondaryTranslateFromScale(-2, card2Scale),\n                            getSecondaryTranslateFromScale(-1, card1Scale),\n                            0\n                        ],\n                        extrapolate: 'clamp'\n                    })\n                }\n            ]\n        } :\n        {\n            zIndex: carouselProps.data.length - index,\n            opacity: animatedValue.interpolate({\n                inputRange: [-1, 0, 1, 2, 3],\n                outputRange: [0, 1, peekingCardsOpacity, peekingCardsOpacity, 0],\n                extrapolate: 'clamp'\n            }),\n            transform: [\n                {\n                    scale: animatedValue.interpolate({\n                        inputRange: [0, 1, 2, 3],\n                        outputRange: [1, card1Scale, card2Scale, card3Scale],\n                        extrapolate: 'clamp'\n                    })\n                },\n                {\n                    rotate: animatedValue.interpolate({\n                        inputRange: [-1, 0],\n                        outputRange: ['-22deg', '0deg'],\n                        extrapolate: 'clamp'\n                    })\n                },\n                {\n                    [mainTranslateProp]: animatedValue.interpolate({\n                        inputRange: [-1, 0, 1, 2, 3],\n                        outputRange: [\n                            -sizeRef * 1.1,\n                            0,\n                            getMainTranslateFromScale(1, card1Scale),\n                            getMainTranslateFromScale(2, card2Scale),\n                            getMainTranslateFromScale(3, card3Scale)\n                        ],\n                        extrapolate: 'clamp'\n                    })\n                },\n                {\n                    [secondaryTranslateProp]: animatedValue.interpolate({\n                        inputRange: [0, 1, 2, 3],\n                        outputRange: [\n                            0,\n                            getSecondaryTranslateFromScale(1, card1Scale),\n                            getSecondaryTranslateFromScale(2, card2Scale),\n                            getSecondaryTranslateFromScale(3, card3Scale)\n                        ],\n                        extrapolate: 'clamp'\n                    })\n                }\n            ]\n        };\n}\n"]}